<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Steve's Page</title>
  <link rel="stylesheet" href="steve1.css">
</head>
<body>
    <a href="../index.html">Our Home Page</a>
    <br>
    <a href="../steve_smoke/smoking.html">Steve's Smoking Tracker</a>
    <br><br>
  <header>
    <h1>Steve's Story Sparks</h1>
  </header>

  <div class="flexbox-container">
    <div class="card" id="uni-dice">
      <h2>Dice Roller</h2>
      Enter dice (e.g. 2d6)
      <input id="inputNumberOfDice" class="inputNumber" type="number">
      <span>d</span>
      <input id="inputSizeOfDice" class="inputNumber" type="number">
      <button onclick="rollDice()">Roll Dice!</button>
      <div id="dice-scroll-box">
        <p id="displayHistory"></p>
      </div>
      
    </div>
  </div>

  <div class="flexbox-container">

    <div class="card" id="oracleCard">
      <h2>Ironsworn</h2>
      <button class="btnOracle" data-value="very likely">V Likely</button>
      <button class="btnOracle" data-value="likely">Likely</button>
      <button class="btnOracle" data-value="50/50">50/50</button>
      <button class="btnOracle" data-value="unlikely">Unlikely</button>
      <button class="btnOracle" data-value="very unlikely">V Unlikely</button>
      <p id="display_iron_oracle"></p>
      <button id="btnDetails">Details</button>
      <p id="display_iron_details"></p>
      <button id="btnOverland">Overland Travel</button>
      <p id="display_iron_overland"></p>
    </div>
  </div> <!--End of Ironsworn Block-->


  <div class="flexbox-container">

    <div class="card" id="frame-names">
      <h2>Names</h2>
      <button class="btn-name" id="name_british_male">British Male</button>
      <button class="btn-name" id="name_british_female">British female</button>
      <button class="btn-name" id="name_british_any">British (Random)</button>
      <button class="btn-name" id="name_filipino_male">Filipino Male</button>
      <button class="btn-name" id="name_filipino_female">Filipino female</button>
      <button class="btn-name" id="name_british_any">Filipino (Random)</button>
      <button class="btn-name" id="name_mixed_male">Random Male</button>
      <button class="btn-name" id="name_mixed_female">Random Fenale</button>
      <button class="btn-name" id="name_mixed_any">Random Name</button>
      <p id="display_name"></p>
    </div>

  </div> <!--End of Names block-->


  <div class="flexbox-container">
    <div class="card" id="lenormandExpanded">
      <button id="btnLenormandExpanded">Lenormand (Expanded)</button>
      <p id="displayLenormandExpanded"></p>
    </div>

    <div class="card" id="tarotCard">
      <button id="btnTarot">Tarot (Minor Arcana)</button>
      <p id="displayTarot"></p>
    </div>
  </div> <!--End of Tarot block-->


  <div class="flexbox-container">
    <div class="card" id="card_animal_symbols">
      <button id="btnAnimalSymbols">Animal Symbols</button>
      <p id="display_animal_symbols"></p>
    </div>

    <div class="card" id="card_color_symbols">
      <button id="btnColorSymbols">Color Symbols</button>
      <p id="display_color_symbols"></p>
    </div>
  </div> <!--End of Symbols block-->


  <div class="flexbox-container">

    <div class="card" id="tricube_deck">
      <p>Tricube Tales Solo</p>
      <button id="newTricubeCard">Draw Card</button>
      <p id="display_new_tricube_card"></p>
    </div>

  </div> <!--End of Tricube Block-->

<div class="flexbox-container">
  <div class="card" id="card_favorite_links">
    <p>Favorite Links</p>
    <a href="https://itch.io/c/2376434/free-kriegsspiel-revolution" target="_blank">FKR Collection on itch.io</a>
  </div>
</div>
  

  <script src="iron_action.js"></script>
  <script src="iron_descriptor.js"></script>
  <script src="iron_focus.js"></script>
  <script src="iron_theme.js"></script>
  <script src="iron_overland_landmark.js"></script>
  <script src="iron_overland_waypoint.js"></script>
  <script src="lenormandExpanded.js"></script>
  <script src="tarot.js"></script>
  <script src="animal_symbols.js"></script>
  <script src="colors.js"></script>
  <script src="tricube_card_oracle.js"></script>
  <script src="uni_dice.js"></script>
  <script src="names_british.js"></script>
  <script src="names_filipino.js"></script>
  
  <script>
    const iron_details_lists = [ironactionList, ironthemeList, irondescriptorList, ironfocusList];
    const iron_overland_lists = [ironoverlandwaypointList, ironoverlandlandmarkList];
    const displayLenormandExpanded = document.getElementById('displayLenormandExpanded');
    const displayTarot = document.getElementById('displayTarot');
    const displayAnimal = document.getElementById('display_animal_symbols');
    const displayColor = document.getElementById('display_color_symbols');

    
    
    const dict_iron_oracle = {
      "very likely": 90,
      "likely": 75,
      "50/50": 50,
      "unlikely": 25,
      "very unlikely": 10
    }


    function btnIronDetails() {
      let results = [];

      for (let list of iron_details_lists) {
        const randomIndex = Math.floor(Math.random() * list.length);
        results.push(list[randomIndex]);
      }
      
      document.getElementById("display_iron_details").innerHTML = results.join(", ");
    }

    function btnIronOverland() {
      let results = [];

      for (let list of iron_overland_lists) {
        const randomIndex = Math.floor(Math.random() * list.length);
        results.push(list[randomIndex]);
      }
      
      document.getElementById("display_iron_overland").innerHTML = results.join("<br>");
    }


    function btnIronOracle(event) {
      const button = event.target;
      const choice = button.dataset.value;
      const target = dict_iron_oracle[choice];

      console.log(target)

      let d100 = Math.floor(Math.random() * 100) +1;
      console.log(d100)
      if (d100 <= target) {
        document.getElementById("display_iron_oracle").innerHTML = `Yes`;
      } else {
        document.getElementById("display_iron_oracle").innerHTML = `No`;
      }
    }

    function btnLenormandExpanded() {
      const randomIndex = Math.floor(Math.random() * lenormandExpanded.length);
      const randomItem = lenormandExpanded[randomIndex];
      displayLenormandExpanded.innerHTML = randomItem;
    }

    function btnTarot(){
      // Get card direction
      const cardDirection = checkTarotCardDirection();
      // Get Random Suit
      const keys = Object.keys(tarot_cards);
      const randomIndex = Math.floor(Math.random() * keys.length);
      const randomKey = keys[randomIndex];
      const element = tarot_cards[randomKey]['suit element'];
      const suit = tarot_cards[randomKey]['suit'];
      const suitKeywords = tarot_cards[randomKey]['suit keywords'];
      const suitDuality = tarot_cards[randomKey]['suit duality'];
      const jung = tarot_cards[randomKey]['suit jung'];
      
      // Get Random Card from Suit
      const cardKeys = Object.keys(tarot_cards[randomKey]['cards']);
      const randomCardIndex = Math.floor(Math.random() * cardKeys.length);
      const randomCardKey = cardKeys[randomCardIndex];

      // Get Details from Card
      const uprightKeywords = tarot_cards[randomKey]['cards'][randomCardKey]['upright keywords'];
      const reversedKeywords = tarot_cards[randomKey]['cards'][randomCardKey]['reversed keywords'];
      const symbols = tarot_cards[randomKey]['cards'][randomCardKey]['symbols'];
      
      displayTarot.innerHTML = 
      `<b>${randomKey} (${element}, ${suitDuality}, ${jung})</b><br>` +
      `${suitKeywords}<br><br>`+
      `<b>${randomCardKey} (${cardDirection})</b><br><br>` +
      `Upright Keywords:<br>${uprightKeywords}<br><br>` +
      `Reversed Keywords:<br>${reversedKeywords}<br><br>` +
      `Symbols:<br>${symbols.join('<br>')}`
    }

    function checkTarotCardDirection(){
      const chosenOption = Math.random() > 0.5 ? "upright" : "reversed";
      return chosenOption;
    }

    function btnAnimalSymbol(){
      const randomIndex = Math.floor(Math.random() * animalSymbols.length);
      const randomItem = animalSymbols[randomIndex];
      displayAnimal.innerHTML = randomItem;
    }

    function btnColorSymbol(){
      const randomIndex = Math.floor(Math.random() * color_symbols.length);
      const randomItem = color_symbols[randomIndex];
      displayColor.innerHTML = randomItem;
    }

    // Listeners

    // Iron Oracle button
    document.querySelectorAll("#oracleCard .btnOracle").forEach(btn => {
      btn.addEventListener("click", btnIronOracle);
    });

    // Details button
    document.getElementById("btnDetails").addEventListener("click", btnIronDetails);

    // Overland button
    document.getElementById("btnOverland").addEventListener("click", btnIronOverland);

    // Lenormand Expanded button
    document.getElementById('btnLenormandExpanded').addEventListener("click", btnLenormandExpanded);

    // Tarot button
    document.getElementById('btnTarot').addEventListener("click", btnTarot);

    // Animal Symbol button
    document.getElementById('btnAnimalSymbols').addEventListener('click', btnAnimalSymbol);

    // Color Symbol button
    document.getElementById('btnColorSymbols').addEventListener('click', btnColorSymbol);

    // Tricube Card
    document.getElementById('newTricubeCard').addEventListener('click', function() {
      const randomIndex = Math.floor(Math.random() * tricubeCardOracle.length);
      const randomItem = tricubeCardOracle[randomIndex];
      let randomItem2 = "";

      if (randomIndex >= 0 && randomIndex <= 7) {
        const randomIndex2 = Math.floor(Math.random() * tricubeSceneChange.length);
        randomItem2 = tricubeSceneChange[randomIndex2];
      }
      else {
        randomItem2 = "";
      }
      document.getElementById("display_new_tricube_card").innerHTML = `${randomItem}<br>${randomItem2}`;
    });

    
  </script>
</body>
</html>
